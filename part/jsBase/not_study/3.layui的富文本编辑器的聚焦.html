<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="layui-master/dist/css/layui.css">
    <style>
        #d0 {
            width: 100%;
            height: 600px;
            overflow: auto;
        }

        #d3 {
            margin-top: 1000px;
            width: 200px;
            height: 200px;
            background-color: pink;
            padding-left: 20px;
        }

        #d4 {
            margin-top: 20px;
        }

        #d5 {
            display: block;
            width: 100%;
            height: 200px;
        }
    </style>
</head>

<body>
    <!-- <div id='d0'> -->
    <textarea id='d1'></textarea>
    <textarea id='d2'></textarea>
    <div contenteditable="true" id='d3'></div>
    <textarea id='d4'></textarea>
    <button id='b1'>点我</button>
    <textarea id='d5'></textarea>
    <button id='b2'>点我</button>
    <!-- </div> -->
    <script src="layui-master/dist//layui.js"></script>
    <script>
        layui.use(['layer', 'layedit'], () => {
            var layedit = layui.layedit;
            var layer = layui.layer;
            var $ = layui.$;
            var dis1 = layedit.build('d1');
            var dis2 = layedit.build('d2');
            var dis4 = layedit.build('d4');

            // 普通的contenteditable可以聚焦
            // $("#d3").focus();

            // 试试layui的富文本编辑框的聚焦
            // $("iframe[textarea='d4']").contents().find('body').click();

            // $("#d0").scrollTop($("iframe[textarea='d4']").offset().top - $("#d0").offset().top + $("#d0").scrollTop());
            $("html:eq(0)").scrollTop($("#d3").offset().top - $("html:eq(0)").offset().top + $("html:eq(0)")
                .scrollTop());

            // 调试用按钮
            $("#b1").click(() => {
                alert($("iframe[textarea='d4']").contents().find('body').html());
            })
            $("#b2").click(() => {
                alert($("#d5").val());
            })

            // 最终结论：layui的富文本编辑框聚焦是无法一步到位的
            // 只能把之前的textarea显示出来， 让它聚焦
            // 再把这个textarea隐藏
            // 最后在让这个iframe里面的div聚焦
            // 例子如下：

            // .must_show {
            //         display: block!important;
            // }

            // $("#projectOverview").addClass('must_show');
            // $("#projectOverview").focus();
            // $("#projectOverview").removeClass('must_show');
            // $("iframe[textarea='" + textareaIdArr[0] + "']").contents().find("body").focus();

        })
    </script>
</body>

</html>