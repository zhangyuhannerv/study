<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <input type="button" id="btn" value="do it" />
  <h4>两行三列：</h4>
  <table id="table" border="1" style="width:200px;border-collapse: collapse;border:1px solid black;">
    <tr style="background:green;">
      <td rowspan="3">200</td>
      <td>200</td>
      <td>300</td>
    </tr>
    <tr style="background:green;">
      <td rowspan="2">500</td>
      <td>600</td>
    </tr>
    <tr style="background:green;">
      <td>600</td>
    </tr>
    <tr style="background:skyblue;">
      <td rowspan="3">100</td>
      <td>200</td>
      <td>300</td>
    </tr>
    <tr style="background:skyblue;">
      <td>500</td>
      <td>600</td>
    </tr>
    <tr style="background:skyblue;">
      <td>600</td>
      <td>600</td>
    </tr>
  </table>


  <script src="../lib/jQuery/jquery-3.1.1.min.js"></script>
  <script src="../lib/dom-to-img/dom-to-img.js"></script>
  <script>
    $("#btn").click(() => {
      // domtoimage.toBlob($("#table")[0])
      //     .then(function(blob) {
      //         const a = document.createElement("a");
      //         const url = window.URL.createObjectURL(blob);
      //         const filename = '123';
      //         a.href = url;
      //         a.download = filename;
      //         a.click();
      //         window.URL.revokeObjectURL(url);
      //     });

      domtoimage.toJpeg($("#table")[0], { quality: 0.95 })
        .then(function(dataUrl) {
          console.log(dataUrl);
          var link = document.createElement('a');
          link.download = 'my-image-name.jpeg';
          link.href = dataUrl;
          link.click();
        });

    })
  </script>
</body>

</html>